"use strict";var body=document.body;let __TBAlignFullEmbedsResizeAction=()=>{var a=document.body.scrollWidth,e=document.querySelectorAll(".alignfull iframe");0<e.length&&[].forEach.call(e,e=>{var t=e.getAttribute("width"),o=e.getAttribute("height");e.setAttribute("width",a),e.setAttribute("height",a/t*o)})},__TBAlignFullWrapperResizeAction=()=>{var t=document.body.scrollWidth,e=document.querySelectorAll(".alignfull");0<e.length&&[].forEach.call(e,e=>{e.style.maxWidth=t+"px"})},__TBResponsiveEmbedsAction=()=>{var t,o;document.querySelectorAll("iframe").forEach(function(e){e.width&&e.height&&(t=parseFloat(e.width)/parseFloat(e.height),o=parseFloat(window.getComputedStyle(e.parentElement,null).width.replace("px","")),e.style.maxWidth="100%",e.style.maxHeight=Math.round(o/t).toString()+"px")})},__TBSearchModalOpenAction=()=>{document.querySelector("#maximo-search-modal").classList.toggle("maximo-open-search-modal"),body.classList.toggle("maximo-search-modal-opened")},__TBNavModalOpenAction=()=>{var e=document.querySelector("#maximo-mobile-nav-overlay"),t=document.querySelector("#maximo-mobile-nav-container");e.classList.toggle("display-mobile-nav-overlay"),t.classList.toggle("display-mobile-nav"),body.classList.toggle("maximo-mobile-nav-opened")},_TBFocusNavModalOpenBtn=()=>{document.getElementById("maximo-mobile-nav-toggle-btn").focus()},_TBFocusNavModalCloseBtn=()=>{document.getElementById("maximo-mobile-nav-close-btn").focus()},__TBFocusSearchModalOpenBtn=()=>{document.getElementById("maximo-header-search").focus()},__TBFocusSearchModalCloseBtn=()=>{document.getElementById("maximo-search-modal-close-btn").focus()},__TBEnabledDarkModeBtnClasses=e=>{body.classList.remove("maximo-dark-mode-disabled"),body.classList.add("maximo-dark-mode-enabled"),e.classList.remove("maximo-show-dark-icon"),e.classList.remove("maximo-hide-light-icon"),e.classList.add("maximo-show-light-icon"),e.classList.add("maximo-hide-dark-icon")},__TBDisabledDarkModeBtnClasses=e=>{body.classList.remove("maximo-dark-mode-enabled"),body.classList.add("maximo-dark-mode-disabled"),e.classList.remove("maximo-show-light-icon"),e.classList.remove("maximo-hide-dark-icon"),e.classList.add("maximo-show-dark-icon"),e.classList.add("maximo-hide-light-icon")};var __TBJsInit={init:function(){this.lightDarkModeSwitchAction(),this.backToTop(),this.toggleComment(),this.stickyNav(),this.offCanvasNav(),this.mobileNavSubmenuToggleBtn(),this.mobileNavSubmenuToggleAction(),this.searchModal(),this.elementStyles(),this.windowResizeEvents(),this.escCloseAnyModal(),this.bannerInit()},lightDarkModeSwitchAction:function(){var e,t,o,a=body.getAttribute("data-active_skin");body.classList.contains("maximo-dark-mode-switcher-enabled")?(t=body.getAttribute("data-skin"),localStorage&&(e=localStorage.getItem("maximoBlogThemeSkin")?localStorage.getItem("maximoBlogThemeSkin"):(localStorage.setItem("maximoBlogThemeSkin",t),t)),body.setAttribute("data-skin",e),(o=document.getElementById("maximo-light-dark-mode-switch-btn"))&&(e!=a?__TBEnabledDarkModeBtnClasses(o):body.classList.add("maximo-dark-mode-disabled"),o.addEventListener("click",e=>{localStorage.getItem("maximoBlogThemeSkin")===a?(localStorage.setItem("maximoBlogThemeSkin","maximo-theme-dark"),body.setAttribute("data-skin","maximo-theme-dark"),__TBEnabledDarkModeBtnClasses(o)):(localStorage.setItem("maximoBlogThemeSkin",a),body.setAttribute("data-skin",a),__TBDisabledDarkModeBtnClasses(o))}))):body.setAttribute("data-skin",a)},searchModal:function(){var e=document.querySelector("#maximo-header-search");e&&e.addEventListener("click",e=>{e.preventDefault(),__TBSearchModalOpenAction(),setTimeout(function(){document.querySelector('#maximo-search-modal form.maximo-search-form input[type="search"]').focus()},800)});e=document.querySelector("#maximo-search-modal-close-btn");e&&e.addEventListener("click",e=>{e.preventDefault(),__TBSearchModalOpenAction(),__TBFocusSearchModalOpenBtn()}),document.getElementById("maximo-search-form-close-link").addEventListener("focus",e=>{e.preventDefault(),__TBFocusSearchModalCloseBtn()})},backToTop:function(){var e=document.querySelector("#maximo-scroll-top-btn-wrapper");e&&(window.addEventListener("scroll",()=>{300<window.pageYOffset?e.classList.remove("maximo-hide-stb"):e.classList.add("maximo-hide-stb")}),e.addEventListener("click",e=>{e.preventDefault(),window.scrollTo({top:0,behavior:"smooth"})}))},toggleComment:function(){var e;!body.classList.contains("maximo-has-togglable-comments-box")||(e=document.querySelector("#maximo-cmnt-tgl-btn"))&&e.addEventListener("click",e=>{e.preventDefault(),document.querySelector("#comments").classList.toggle("maximo-show")})},stickyNav:function(){var e,t,o,a,i,n,s,l;body.classList.contains("maximo-sticky-main-navigation-enabled")&&(e=document.querySelector("#masthead").offsetHeight,t=document.querySelector(".maximo-sticky-main-navigation"),o=t.offsetHeight,a=document.documentElement,i=window.scrollY||a.scrollTop,l=s=0,window.addEventListener("scroll",()=>{n=window.scrollY||a.scrollTop,(s=i<=n?2:1)!==l&&(2===s&&e<n&&(t.setAttribute("style","top: -"+e+"px;"),t.classList.add("maximo-sticky-enabled"),body.classList.contains("maximo-transparent-header-enabled")||body.setAttribute("style","padding-top: "+o+"px;"),t.classList.remove("maximo-sticky-show"),l=s),1===s&&(t.setAttribute("style","top: 0;"),t.classList.add("maximo-sticky-show"),l=s)),n<=e&&(body.classList.contains("maximo-transparent-header-enabled")||body.setAttribute("style","padding-top: 0;"),t.classList.remove("maximo-sticky-show"),t.classList.remove("maximo-sticky-enabled")),i=n}))},offCanvasNav:function(){var e=document.querySelectorAll("#maximo-mobile-nav-toggle-btn, #maximo-mobile-nav-overlay, #maximo-mobile-nav-close-btn");[].forEach.call(e,t=>{t.addEventListener("click",e=>{e.preventDefault(),__TBNavModalOpenAction(),("maximo-mobile-nav-toggle-btn"===t.id?_TBFocusNavModalCloseBtn:_TBFocusNavModalOpenBtn)()})}),document.getElementById("maximo-mobile-nav-close-link").addEventListener("focus",e=>{e.preventDefault(),_TBFocusNavModalCloseBtn()})},mobileNavSubmenuToggleBtn:function(){var e=document.querySelectorAll("#maximo-mobile-nav .menu-item-has-children");0<e.length&&[].forEach.call(e,e=>{e.firstChild.insertAdjacentHTML("afterend",'<a href="#" class="dropdown-btn"><i class="fi fi-angle-down" aria-hidden="true"></i></a>')})},mobileNavSubmenuToggleAction:function(){var e=document.querySelectorAll(".dropdown-btn");0<e.length&&[].forEach.call(e,t=>{t.addEventListener("click",e=>{e.preventDefault();e=t.nextElementSibling;console.log(e.offsetHeight),e.classList.toggle("display-sub-menu");e=t.firstChild;e.classList.contains("fi-angle-down")?(e.classList.remove("fi-angle-down"),e.classList.add("fi-angle-up")):(e.classList.remove("fi-angle-up"),e.classList.add("fi-angle-down"))})});e=document.querySelectorAll(".dropdown-btn i");0<e.length&&e.forEach(e=>{e.classList.contains("fi-angle-right")&&(e.classList.remove("fi-angle-right"),e.classList.add("fi-angle-down"))})},bannerInit:function(){body.classList.contains("maximo-banner-slider-enabled")&&new Swiper("#maximo-banner-container",{loop:!0,slidesPerView:1,direction:"horizontal",speed:700,autoplay:{delay:4500},navigation:{nextEl:".maximo-banner-button-next",prevEl:".maximo-banner-button-prev"},pagination:{el:".maximo-banner-pagination",type:"bullets",clickable:!0}})},elementStyles:function(){__TBAlignFullWrapperResizeAction(),__TBAlignFullEmbedsResizeAction()},escCloseAnyModal:function(){document.body.addEventListener("keyup",e=>{e="key"in e?"Escape"===e.key||"Esc"===e.key:27===e.keyCode;e&&(body.classList.contains("maximo-search-modal-opened")&&(__TBSearchModalOpenAction(),__TBFocusSearchModalOpenBtn()),body.classList.contains("maximo-mobile-nav-opened")&&(__TBNavModalOpenAction(),_TBFocusNavModalOpenBtn()))})},windowResizeEvents:function(){window.addEventListener("resize",()=>{__TBAlignFullEmbedsResizeAction(),__TBAlignFullWrapperResizeAction(),__TBResponsiveEmbedsAction()})}};__TBJsInit.init();